define(["eglx/ui/rui/eze$$Widget","eglx/ui/rui/PurposeKind","eglx/ui/rui/eze$$Event","eglx/ui/rui/MappingKind"],function(){egl.loadCSS("css/org.eclipse.edt.rui.css");egl.defineRUIWidget("org.eclipse.edt.rui.widgets","TextArea",{"eze$$fileName":"org/eclipse/edt/rui/widgets/TextArea.egl","eze$$runtimePropertiesFile":"org.eclipse.edt.rui.widgets.TextArea","constructor":function(){this.start();},"eze$$setEmpty":function(){this.savedBackgroundColor="";this.text="";this.readOnly=false;this.numRows=0;this.numColumns=0;this.buffer=[];this.redraw=false;this.savedEnableSelection=false;},"eze$$setInitial":function(){this.eze$$setEmpty();this.redraw=true;},"eze$$clone":function(){var _1=this;var _2=new egl.org.eclipse.edt.rui.widgets.TextArea();_2.savedBackgroundColor=_1.savedBackgroundColor===null?null:_1.savedBackgroundColor;_2.text=_1.text===null?null:_1.text;_2.readOnly=_1.readOnly;_2.numRows=_1.numRows;_2.numColumns=_1.numColumns;_2.buffer=_1.buffer===null?null:_1.buffer;_2.redraw=_1.redraw;_2.savedEnableSelection=_1.savedEnableSelection;return _2;},"eze$$getAnnotations":function(){if(this.annotations===undefined){this.annotations={};this.annotations["XMLRootElement"]=new egl.eglx.xml.binding.annotation.XMLRootElement("TextArea",null,false);}return this.annotations;},"eze$$getFieldInfos":function(){if(this.fieldInfos===undefined){var _3;this.fieldInfos=new Array();_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("text",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("text");this.fieldInfos[1]=new egl.eglx.services.FieldInfo(getText,setText,"S;",String,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("readOnly",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("readOnly");this.fieldInfos[2]=new egl.eglx.services.FieldInfo(getReadOnly,setReadOnly,"0;",Boolean,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("numRows",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("numRows");this.fieldInfos[3]=new egl.eglx.services.FieldInfo(getNumRows,setNumRows,"I;",Number,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("numColumns",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("numColumns");this.fieldInfos[4]=new egl.eglx.services.FieldInfo(getNumColumns,setNumColumns,"I;",Number,_3);}return this.fieldInfos;},"start":function(){egl.checkNull(this).getOnFocusGained().appendElement(new egl.egl.jsrt.Delegate(this,egl.org.eclipse.edt.rui.widgets.TextArea.prototype.enableSelection));egl.checkNull(this).getOnFocusLost().appendElement(new egl.egl.jsrt.Delegate(this,egl.org.eclipse.edt.rui.widgets.TextArea.prototype.disableSelection));},"enableSelection":function(e){this.savedEnableSelection=egl.eglx.ui.rui.RuiLib.getTextSelectionEnabled();egl.eglx.ui.rui.RuiLib.setTextSelectionEnabled(true);},"disableSelection":function(e){egl.eglx.ui.rui.RuiLib.setTextSelectionEnabled(this.savedEnableSelection);},"append":function(_4){if(this.redraw){this.setText(((this.getText())+_4));}else{this.buffer.appendElement(egl.checkNull(_4));}},"setRedraw":function(_5){this.redraw=_5;var _6;_6=this.buffer.getSize();if(((this.redraw&&((_6>0))))){var s="";var i=0;for(i=1;((i<=_6));i=((i+1))){s=((s)+((egl.checkNull(this.buffer)[this.buffer.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:i,eze$$signature:"I;"},false)-1)])+"\n"));}this.append(s);this.buffer=(function(){var _7=[];_7.setType("[S;");for(var i=0;i<0;i++){_7[i]="";}return _7;})();}},"getNumRows":function(){this.numRows=egl.eglx.lang.EInt32.ezeCast(this.getAttribute("rows"),false);return this.numRows;},"setNumRows":function(_8){this.numRows=_8;this.setAttribute("rows",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_8,"I;"]));},"getNumColumns":function(){this.numColumns=egl.eglx.lang.EInt32.ezeCast(this.getAttribute("cols"),false);return this.numColumns;},"setNumColumns":function(_9){this.numColumns=_9;this.setAttribute("cols",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_9,"I;"]));},"setText":function(_a){this.setAttribute("value",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_a,"S;"]));},"getText":function(){return egl.eglx.lang.EString.ezeCast(this.getAttribute("value"),false);},"getReadOnly":function(){return this.readOnly;},"setReadOnly":function(ro){this.readOnly=ro;if(ro){this.setAttribute("readOnly",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,["true","S;"]));this.savedBackgroundColor=egl.checkNull(this).getBackgroundColor();this.setBackgroundColor("");this.setClass("EglRuiTextAreaReadOnly");}else{this.removeAttribute("readOnly");this.setBackgroundColor(this.savedBackgroundColor);this.setClass("EglRuiTextAreaRead");}},"toString":function(){return "[TextArea]";}},"textarea");});