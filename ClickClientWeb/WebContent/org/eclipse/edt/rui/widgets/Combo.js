define(["org/eclipse/edt/rui/widgets/Box","org/eclipse/edt/rui/history/eze$$HistoryHelper","eglx/ui/rui/eze$$Widget","eglx/ui/rui/PurposeKind","eglx/ui/rui/MappingKind"],function(){egl.loadCSS("css/org.eclipse.edt.rui.css");egl.defineRUIWidget("org.eclipse.edt.rui.widgets","Combo",{"eze$$fileName":"org/eclipse/edt/rui/widgets/Combo.egl","eze$$runtimePropertiesFile":"org.eclipse.edt.rui.widgets.Combo","constructor":function(){},"eze$$setEmpty":function(){this.values=[];this.selection=0;this.reverseTextDirectionThis="";this.textLayoutThis="";this.history=new egl.org.eclipse.edt.rui.history.HistoryHelper();this.options=[];},"eze$$setInitial":function(){this.eze$$setEmpty();this.reverseTextDirectionThis="No";this.textLayoutThis="Logical";},"eze$$clone":function(){var _1=this;var _2=new egl.org.eclipse.edt.rui.widgets.Combo();_2.values=_1.values===null?null:_1.values;_2.selection=_1.selection;_2.reverseTextDirectionThis=_1.reverseTextDirectionThis===null?null:_1.reverseTextDirectionThis;_2.textLayoutThis=_1.textLayoutThis===null?null:_1.textLayoutThis;_2.history=_1.history===null?null:_1.history;_2.options=_1.options===null?null:_1.options;return _2;},"eze$$getAnnotations":function(){if(this.annotations===undefined){this.annotations={};this.annotations["XMLRootElement"]=new egl.eglx.xml.binding.annotation.XMLRootElement("Combo",null,false);}return this.annotations;},"eze$$getFieldInfos":function(){if(this.fieldInfos===undefined){var _3;this.fieldInfos=new Array();_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("values",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("values");this.fieldInfos[0]=new egl.eglx.services.FieldInfo(getValues,setValues,"[S;",String,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("selection",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("selection");this.fieldInfos[1]=new egl.eglx.services.FieldInfo(getSelection,setSelection,"I;",Number,_3);}return this.fieldInfos;},"setValues":function(_4){this.values=_4;this.removeChildren();this.options.removeAll();var _5=0;for(_5=1;((_5<=_4.getSize()));_5=((_5+1))){var _6=null;var _7;_7=(function(){var _8=new egl.eglx.ui.rui.Widget();return _8;}).call(this);_7.setTagName("option");_6=_7;var _9;_9=egl.checkNull(_6);_9.setInnerHTML(egl.checkNull(_4)[_4.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:_5,eze$$signature:"I;"},false)-1)]);this.options.appendElement(egl.checkNull(_9));this.appendChild(_9);}this.setSelection(1);if(((((egl.checkNull(this).textLayoutThis)=="Visual")||((egl.checkNull(this).reverseTextDirectionThis)=="Yes")))){this.setBiDiMarkers();}if(((this.history.isIE()&&egl.isa(egl.checkNull(this).getLogicalParent(),"Torg/eclipse/edt/rui/widgets/box;")))){egl.eglx.lang.EAny.ezeCast({eze$$value:egl.checkNull(this).getLogicalParent(),eze$$signature:"eglx.ui.rui.Widget"},egl.org.eclipse.edt.rui.widgets.Box).layout();}},"getValues":function(){return this.values;},"setSelection":function(_a){if(((((_a>0))&&((_a<=this.options.getSize()))))){egl.checkNull(this.options)[this.options.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:_a,eze$$signature:egl.inferSignature(_a)},false)-1)].setAttribute("selected",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,["true","S;"]));}},"getSelection":function(){return ((egl.eglx.lang.EInt32.ezeCast(this.getAttribute("selectedIndex"),false)+1));},"setTextLayout":function(_b){egl.checkNull(this).textLayoutThis=_b;this.setBiDiMarkers();},"getTextLayout":function(){return egl.checkNull(this).textLayoutThis;},"setReverseTextDirection":function(_c){egl.checkNull(this).reverseTextDirectionThis=_c;this.setBiDiMarkers();},"getReverseTextDirection":function(){return egl.checkNull(this).reverseTextDirectionThis;},"setBiDiMarkers":function(){var _d;_d=((egl.checkNull(this).textLayoutThis)=="Visual");var _e;_e=((egl.checkNull(this).reverseTextDirectionThis)=="Yes");var _f=0;for(_f=1;((_f<=this.options.getSize()));_f=((_f+1))){egl.checkNull(this.options)[this.options.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:_f,eze$$signature:"I;"},false)-1)].setBiDiMarkers(_d,_e);}},"setValueAsText":function(_10){if(((this.getValues().getSize()<1))){return;}var _11=0;for(_11=1;((_11<=this.getValues().getSize()));_11=((_11+1))){if(((_10)==egl.checkNull(this.getValues())[this.getValues().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:_11,eze$$signature:"I;"},false)-1)])){this.setSelection(_11);return;}}if(((this.getValues().getSize()>0))){this.setSelection(1);}},"getValueAsText":function(){if(((this.getValues().getSize()<1))){return "";}return egl.checkNull(this.getValues())[this.getValues().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:this.getSelection(),eze$$signature:"I;"},false)-1)];},"toString":function(){return "[Combo]";}},"select");});