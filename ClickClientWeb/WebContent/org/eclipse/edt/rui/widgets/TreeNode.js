define(["eglx/ui/rui/eze$$Widget","org/eclipse/edt/rui/widgets/Span","org/eclipse/edt/rui/widgets/TreeNode","org/eclipse/edt/rui/widgets/Image","org/eclipse/edt/rui/widgets/Div"],function(){egl.defineRUIWidget("org.eclipse.edt.rui.widgets","TreeNode",{"eze$$fileName":"org/eclipse/edt/rui/widgets/TreeNode.egl","eze$$runtimePropertiesFile":"org.eclipse.edt.rui.widgets.TreeNode","constructor":function(){this.start();},"eze$$setEmpty":function(){this.text="";this.behaviors=[];this.bgColor="";this.imageURL="";this.image=new egl.org.eclipse.edt.rui.widgets.Image();this.span=new egl.org.eclipse.edt.rui.widgets.Span();this.childNodes=[];this.childrenContainer=new egl.org.eclipse.edt.rui.widgets.Div();this.nodeContainer=new egl.org.eclipse.edt.rui.widgets.Div();this.outerContainer=new egl.org.eclipse.edt.rui.widgets.Div();this.ignoreChanges=false;},"eze$$setInitial":function(){this.eze$$setEmpty();this.text="";this.behaviors=[];this.bgColor="";this.image.setSrc("images/TreeNodeEmpty.gif");this.childNodes=[];this.nodeContainer.setChildren([egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this.image,"org.eclipse.edt.rui.widgets.Image"]),egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this.span,"org.eclipse.edt.rui.widgets.Span"]),egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this.childrenContainer,"org.eclipse.edt.rui.widgets.Div"])].setType("[eglx.ui.rui.Widget"));this.nodeContainer.setPaddingLeft(12);this.nodeContainer.setStyle("text-align: left;");this.nodeContainer.setBackground("url(images/TreeNodeL.gif) no-repeat");this.outerContainer.setChildren([egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this.nodeContainer,"org.eclipse.edt.rui.widgets.Div"])].setType("[org.eclipse.edt.rui.widgets.Div"));this.outerContainer.setBackground("url(images/TreeNodeI.gif) repeat-y");this.ignoreChanges=false;egl.checkNull(this).targetWidget=egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this.outerContainer,"org.eclipse.edt.rui.widgets.Div"]);},"eze$$clone":function(){var _1=this;var _2=new egl.org.eclipse.edt.rui.widgets.TreeNode();_2.text=_1.text===null?null:_1.text;_2.behaviors=_1.behaviors===null?null:_1.behaviors;_2.bgColor=_1.bgColor===null?null:_1.bgColor;_2.imageURL=_1.imageURL===null?null:_1.imageURL;_2.image=_1.image===null?null:_1.image.eze$$clone();_2.span=_1.span===null?null:_1.span.eze$$clone();_2.childNodes=_1.childNodes===null?null:_1.childNodes;_2.childrenContainer=_1.childrenContainer===null?null:_1.childrenContainer.eze$$clone();_2.nodeContainer=_1.nodeContainer===null?null:_1.nodeContainer.eze$$clone();_2.outerContainer=_1.outerContainer===null?null:_1.outerContainer.eze$$clone();_2.ignoreChanges=_1.ignoreChanges;return _2;},"eze$$getAnnotations":function(){if(this.annotations===undefined){this.annotations={};this.annotations["XMLRootElement"]=new egl.eglx.xml.binding.annotation.XMLRootElement("TreeNode",null,false);}return this.annotations;},"eze$$getFieldInfos":function(){if(this.fieldInfos===undefined){var _3;this.fieldInfos=new Array();_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("text",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("text");this.fieldInfos[0]=new egl.eglx.services.FieldInfo(getText,setText,"S;",String,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("behaviors",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("behaviors");this.fieldInfos[1]=new egl.eglx.services.FieldInfo("behaviors","behaviors","[org.eclipse.edt.rui.widgets.TreeNodeBehavior",egl.eglx.lang.AnyDelegate,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("bgColor",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("bgColor");this.fieldInfos[2]=new egl.eglx.services.FieldInfo("bgColor","bgColor","S;",String,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("imageURL",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("imageURL");this.fieldInfos[3]=new egl.eglx.services.FieldInfo(getImageURL,setImageURL,"S;",String,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("image",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("image");this.fieldInfos[4]=new egl.eglx.services.FieldInfo("image","image","org.eclipse.edt.rui.widgets.Image",egl.org.eclipse.edt.rui.widgets.Image,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("span",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("span");this.fieldInfos[5]=new egl.eglx.services.FieldInfo("span","span","org.eclipse.edt.rui.widgets.Span",egl.org.eclipse.edt.rui.widgets.Span,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("childNodes",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("childNodes");this.fieldInfos[6]=new egl.eglx.services.FieldInfo("childNodes","childNodes","[org.eclipse.edt.rui.widgets.TreeNode",egl.org.eclipse.edt.rui.widgets.TreeNode,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("childrenContainer",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("childrenContainer");this.fieldInfos[7]=new egl.eglx.services.FieldInfo("childrenContainer","childrenContainer","org.eclipse.edt.rui.widgets.Div",egl.org.eclipse.edt.rui.widgets.Div,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("nodeContainer",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("nodeContainer");this.fieldInfos[8]=new egl.eglx.services.FieldInfo("nodeContainer","nodeContainer","org.eclipse.edt.rui.widgets.Div",egl.org.eclipse.edt.rui.widgets.Div,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("outerContainer",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("outerContainer");this.fieldInfos[9]=new egl.eglx.services.FieldInfo("outerContainer","outerContainer","org.eclipse.edt.rui.widgets.Div",egl.org.eclipse.edt.rui.widgets.Div,_3);}return this.fieldInfos;},"start":function(){this.childrenContainer.setLogicalParent(egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this,"org.eclipse.edt.rui.widgets.TreeNode"]));this.image.setLogicalParent(egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this,"org.eclipse.edt.rui.widgets.TreeNode"]));this.span.setLogicalParent(egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this,"org.eclipse.edt.rui.widgets.TreeNode"]));},"setImageURL":function(_4){this.image.setSrc(_4);this.image.setWidth(egl.eglx.lang.convert(egl.eglx.lang.EString.fromEInt32,[16]));this.image.setHeight(egl.eglx.lang.convert(egl.eglx.lang.EString.fromEInt32,[16]));},"setChildren":function(_5){this.ignoreChanges=true;this.removeChildren();var _6;_6=_5.getSize();var n=0;for(n=1;((n<=_6));n=((n+1))){var _7;_7=egl.checkNull(_5)[_5.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)];this.appendChild(egl.checkNull(_5)[_5.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)]);}this.ignoreChanges=false;this.childrenChanged();},"getChildren":function(){return this.childNodes;},"removeChildren":function(){this.childNodes.removeAll();this.childrenContainer.removeChildren();this.childrenChanged();},"appendChild":function(_8){this.childrenContainer.appendChild(egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[_8,"org.eclipse.edt.rui.widgets.TreeNode"]));var _9;_9=_8;this.childNodes=this.childNodes.appendElement(egl.checkNull(_9));_9.setLogicalParent(egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this,"org.eclipse.edt.rui.widgets.TreeNode"]));this.childrenChanged();},"childrenChanged":function(){if(!(this.ignoreChanges)){this.applyBehaviorsToChildren();}},"getText":function(){if((egl.eglx.lang.EAny.equals(this.span,null))){return "span=null";}return egl.checkNull(this.span).getInnerHTML();},"setText":function(_a){this.span.setInnerHTML(_a);},"applyBehaviors":function(_b,_c){egl.checkNull(this).bgColor=_c;if(((egl.checkNull(this).behaviors.getSize()==0))){egl.checkNull(this).behaviors.appendAll(_b);var _d;_d=_b.getSize();var n=0;for(n=1;((n<=_d));n=((n+1))){egl.checkNull(_b)[_b.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)](this);}}this.applyBehaviorsToChildren();},"applyBehaviorsToChildren":function(){var _e;_e=this.childNodes.getSize();var n=0;for(n=1;((n<=_e));n=((n+1))){var _f;_f=egl.checkNull(this.childNodes)[this.childNodes.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)];_f.applyBehaviors(this.behaviors,this.bgColor);_f.markAsLast(((n==_e)),this.bgColor);}},"markAsLast":function(_10,_11){if(_10){this.nodeContainer.setBackground(((_11)+" url(images/TreeNodeL.gif) no-repeat"));}else{this.nodeContainer.setBackground(" url(images/TreeNodeL.gif) no-repeat");}},"setBiDiStyle":function(_12,_13){egl.checkNull(this).span.setTextLayout(_12);egl.checkNull(this).span.setReverseTextDirection(_13);var i=0;for(i=1;((i<=this.childNodes.getSize()));i=((i+1))){var _14;_14=egl.checkNull(this.childNodes)[this.childNodes.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:i,eze$$signature:"I;"},false)-1)];_14.setBiDiStyle(_12,_13);}},"toString":function(){return "[TreeNode]";}});});