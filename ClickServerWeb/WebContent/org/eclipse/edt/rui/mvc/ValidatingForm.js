define(["eglx/ui/rui/eze$$Widget","org/eclipse/edt/rui/widgets/Box","org/eclipse/edt/rui/mvc/FormField","org/eclipse/edt/rui/widgets/TextLabel"],function(){egl.defineRUIWidget("org.eclipse.edt.rui.mvc","ValidatingForm",{"eze$$fileName":"org/eclipse/edt/rui/mvc/ValidatingForm.egl","eze$$runtimePropertiesFile":"org.eclipse.edt.rui.mvc.ValidatingForm","constructor":function(){},"eze$$setEmpty":function(){this.entries=[];this.box=new egl.org.eclipse.edt.rui.widgets.Box();},"eze$$setInitial":function(){this.eze$$setEmpty();this.box.setColumns(3);},"eze$$clone":function(){var _1=this;var _2=new egl.org.eclipse.edt.rui.mvc.ValidatingForm();_2.entries=_1.entries===null?null:_1.entries;_2.box=_1.box===null?null:_1.box.eze$$clone();return _2;},"eze$$getAnnotations":function(){if(this.annotations===undefined){this.annotations={};this.annotations["XMLRootElement"]=new egl.eglx.xml.binding.annotation.XMLRootElement("ValidatingForm",null,false);}return this.annotations;},"eze$$getFieldInfos":function(){if(this.fieldInfos===undefined){var _3;this.fieldInfos=new Array();_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("entries",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("entries");this.fieldInfos[0]=new egl.eglx.services.FieldInfo(getEntries,setEntries,"[Torg/eclipse/edt/rui/mvc/formfield;",egl.org.eclipse.edt.rui.mvc.FormField,_3);_3={};_3["XMLStyle"]=new egl.eglx.xml.binding.annotation.XMLElement("box",null,false,false);_3["JsonName"]=new egl.eglx.json.JsonName("box");this.fieldInfos[1]=new egl.eglx.services.FieldInfo("box","box","org.eclipse.edt.rui.widgets.Box",egl.org.eclipse.edt.rui.widgets.Box,_3);}return this.fieldInfos;},"setEntries":function(_4){this.entries=_4;var n=0;for(n=1;((n<=_4.getSize()));n=((n+1))){var _5=null;var _6;_6=(function(){var _7=new egl.org.eclipse.edt.rui.widgets.TextLabel();return _7;}).call(this);_6.setText(egl.checkNull(_4)[_4.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].displayName);_5=_6;egl.checkNull(egl.checkNull(this).entries)[egl.checkNull(this).getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].nameLabel=egl.checkNull(_5);egl.checkNull(egl.checkNull(this).getEntries())[egl.checkNull(this).getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].labelClass=egl.checkNull(egl.checkNull(_4)[_4.checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].nameLabel).getClass();this.box.appendChild(egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[egl.checkNull(egl.checkNull(this).getEntries())[egl.checkNull(this).getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].nameLabel,"org.eclipse.edt.rui.widgets.TextLabel"]));this.box.appendChild(egl.checkNull(egl.checkNull(egl.checkNull(this).getEntries())[egl.checkNull(this).getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].controller).getView());var _8=null;var _6;_6=(function(){var _9=new egl.org.eclipse.edt.rui.widgets.TextLabel();return _9;}).call(this);_6.setMarginLeft(9);_6.setClass("EglRuiTextLabel FormErrorLabel");_8=_6;egl.checkNull(egl.checkNull(this).getEntries())[egl.checkNull(this).getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].errorLabel=egl.checkNull(_8);this.box.appendChild(egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[egl.checkNull(egl.checkNull(this).getEntries())[egl.checkNull(this).getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].errorLabel,"org.eclipse.edt.rui.widgets.TextLabel"]));if((egl.eglx.lang.EAny.equals(egl.checkNull(egl.checkNull(egl.checkNull(this).getEntries())[egl.checkNull(this).getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].controller).validStateSetter,null))){egl.checkNull(egl.checkNull(egl.checkNull(this).getEntries())[egl.checkNull(this).getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].controller).validStateSetter=new egl.egl.jsrt.Delegate(this,egl.org.eclipse.edt.rui.mvc.ValidatingForm.prototype.validStateSetter);}}this.appendChild(egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[this.box,"org.eclipse.edt.rui.widgets.Box"]));},"getEntries":function(){return this.entries;},"commit":function(){var n=0;for(n=this.getEntries().getSize();((n>=1));n=((n-1))){egl.checkNull(this.getEntries())[this.getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].controller.commit();var _a;_a=egl.checkNull(this.getEntries())[this.getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].controller.getErrorMessage();if(!((((egl.eglx.lang.EAny.equals(_a,null))||(egl.eglx.lang.EString.equals(_a,"")))))){egl.checkNull(this.getEntries())[this.getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].errorLabel.setText(_a);}}},"publish":function(){var n=0;for(n=this.getEntries().getSize();((n>=1));n=((n-1))){egl.checkNull(this.getEntries())[this.getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].controller.publish();}},"isValid":function(){var _b;_b=true;var n=0;for(n=this.getEntries().getSize();((n>=1));n=((n-1))){if(!(egl.checkNull(this.getEntries())[this.getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)].controller.isValid())){_b=false;}}return _b;},"validStateSetter":function(_c,_d){var n=0;for(n=this.getEntries().getSize();((n>=1));n=((n-1))){var _e=null;_e=egl.eglx.lang.AnyValue.ezeCopyTo(egl.checkNull(this.getEntries())[this.getEntries().checkIndex(egl.eglx.lang.EInt32.ezeCast({eze$$value:n,eze$$signature:"I;"},false)-1)],_e);var _f;_f=_e.controller.getErrorMessage();if((egl.eglx.lang.EAny.equals(_f,null))){_f="";}_e.errorLabel.setText(_f);this.setValidState(_e,_c,_d);}},"setValidState":function(_10,_11,_12){if((egl.checkNull(_10.controller).getView()==_11)){if(_12){_10.nameLabel.setClass(_10.labelClass);}else{_10.nameLabel.setClass((egl.eglx.lang.EString.plus(_10.labelClass," FormErrorLabel")));}}},"toString":function(){return "[ValidatingForm]";}},"div");});