egl.defineClass("eglx.json","JsonLib",{"constructor":function(){}});egl.eglx.json.JsonLib["convertToJSON"]=function(_1){this.validateJSONObject(_1);return egl.eglx.json.toJSONString(_1,true);};egl.eglx.json.JsonLib["validateJSONObject"]=function(_2){if(_2!==null&&typeof _2==="object"&&"eze$$value" in _2&&"eze$$signature" in _2){_2=_2.eze$$value;}if(_2!==null&&typeof _2!="object"||!("eze$$getFieldInfos" in _2||_2 instanceof egl.eglx.lang.EDictionary)){var _3=_2;if(_2==undefined||_2==null){_3="undefined";}if(typeof _2==="object"&&"eze$$signature" in _2){_3=egl.typeName(_2.eze$$signature);}else{_3=typeof _2;}throw egl.createRuntimeException("CRRUI2107E",[_3]);}};egl.eglx.json.toJSONString=function(_4,_5,_6,_7){try{if(_4===undefined||_4===null){return "null";}if(_5==undefined){_5=0;_6=13;}if(_6&&_5>_6){return "\" Max Recursion "+_6+" reached\"";}if((typeof (_4)=="object"&&_4.eze$$signature)||(_7!=undefined&&_7!=null)){var _8;if(_4.eze$$signature&&_4.eze$$value){_8=_4.eze$$signature;}else{if(_7!=undefined&&_7!=null){_8=_7.eglSignature;}else{_8=_4.eze$$signature;}}var _9="";var _a=_8.charAt(0);if(_a!=="?"){_9=_a;}else{_9=_8.charAt(1);firstCharIdx=1;}switch(_9){case "S":case "s":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "K":_4=egl.unboxAny(_4);if(_4===undefined||_4===null){return egl.eglx.json.toJSONString(_4,_5,_6);}else{return "\""+egl.eglx.lang.StringLib.format(_4,"yyyy-MM-dd")+"\"";}case "L":_4=egl.unboxAny(_4);if(_4===undefined||_4===null){return egl.eglx.json.toJSONString(_4,_5,_6);}else{return "\""+egl.eglx.lang.StringLib.format(_4,"HH:mm:ss")+"\"";}case "J":_4=egl.unboxAny(_4);if(_4===undefined||_4===null){return egl.eglx.json.toJSONString(_4,_5,_6);}else{return "\""+egl.eglx.lang.StringLib.format(_4,"yyyy-MM-dd HH:mm:ss")+"\"";}case "I":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "i":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "0":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "F":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "f":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "B":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "N":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "d":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);case "9":return egl.eglx.json.toJSONString(egl.unboxAny(_4),_5,_6);}if("eze$$value" in _4){return egl.eglx.json.toJSONString(egl.unboxAny(_4));}}if(typeof (_4)=="string"){return "\""+egl.eglx.json.convertStringToJson(_4)+"\"";}if(typeof (_4)=="number"){return String(_4);}if(typeof (_4)=="boolean"){return Boolean(_4);}if(_4 instanceof egl.javascript.BigDecimal){return _4.toString();}if(typeof _4==="object"&&_4 instanceof egl.eglx.lang.Enumeration){return egl.eglx.json.toJSONString(_4.value,_5+1,_6);}if(typeof _4==="object"&&_4 instanceof Array){try{var s=[];if(_7!==undefined&&_7!==null){_7=egl.clone(_7);_7.eglSignature=_7.eglSignature.slice(1);}else{if("type" in _4&&(_7===undefined||_7===null)){_7=new egl.eglx.services.FieldInfo(null,null,_4.type,null,null);_7.eglSignature=_7.eglSignature.slice(1);}}s.push("[");var _b=false;for(var n=0;n<_4.length;n++){if(typeof (_4[n])!="function"){if(_b){s.push(",");}s.push(egl.eglx.json.toJSONString(_4[n],_5+1,_6,_7));_b=true;}}s.push("]");return s.join("");}catch(e){}}if(typeof _4==="object"&&"eze$$getFieldInfos" in _4){var s=[];s.push("{");var _b=false;var _c=_4.eze$$getFieldInfos();if(_c){for(var _d=0;_d<_c.length;_d++){if(_b){s.push(",");}s.push("\"");var _e=_c[_d].annotations["JsonName"].name;s.push(_e);s.push("\":");var _f;if(_c[_d].getterFunction instanceof Function){_f=_4[_c[_d].getterFunction].apply();}else{_f=_4[_c[_d].getterFunction];}s.push(egl.eglx.json.toJSONString(egl.unboxAny(_f),_5+1,_6,_c[_d]));_b=true;}}s.push("}");return s.join("");}if(typeof _4==="object"&&_4 instanceof egl.eglx.lang.EDictionary){var s=[];s.push("{");var _b=false;for(var f in _4){if(!f.match(/^eze\$\$/)&&(typeof _4[f]!="function")){if(_b){s.push(",");}s.push("\"");var _e=f;if(_4 instanceof egl.egl.jsrt.Record){_e=_4.eze$$getJSONName(_e);}s.push(_e);s.push("\":");s.push(egl.eglx.json.toJSONString(_4[f],_5+1,_6));_b=true;}}s.push("}");return s.join("");}else{return "\"Cannot toJSONString "+_4;}}catch(e){return "\"Cannot toJSONString "+_4+" due to "+e+"\"";}};egl.eglx.json.convertStringToJson=function(_10){var str=_10;str=str.replace(/\\/g,"\\\\");str=str.replace(/"/g,"\\\"");str=str.replace(/\//g,"\\/");str=str.replace(/[\b]/g,"\\b");str=str.replace(/\r/g,"\\r");str=str.replace(/\t/g,"\\t");str=str.replace(/\f/g,"\\f");str=str.replace(/\n/g,"\\n");return str;};egl.eglx.json.JsonLib["JSON_JS_json_parse"]="json_parse";egl.eglx.json.JsonLib["JSON_JS_json_parse_state"]="json_parse_state";egl.eglx.json.JsonLib["JSON_JS_json2"]="json2";egl.eglx.json.JsonLib["parserType"]=egl.eglx.json.JsonLib["JSON_JS_json_parse_state"];egl.eglx.json.JsonLib["convertFromJSON"]=function(str,_11,_12){this.validateJSONObject(_11);if(!/^(\[|{)/.test(str)){str=str.replace(/^(\s)*/,"");}if(/^(\[|{)/.test(str)){try{var _13;if(egl.eglx.json.$JSONParser[egl.eglx.json.JsonLib.parserType]!==undefined&&typeof egl.eglx.json.$JSONParser[egl.eglx.json.JsonLib.parserType]==="function"){_13=egl.eglx.json.$JSONParser[egl.eglx.json.JsonLib.parserType](str);}if(_11!==null&&typeof _11==="object"&&typeof _13==="object"){this.populateObjectFromJsonObject(_13,_11,undefined,_12);}else{}return _11;}catch(e){str=str.replace(/&/g,"&amp;").replace(/</g,"&lt;");throw egl.createRuntimeException("CRRUI2089E",[str,e.message]);}}return null;};egl.eglx.json.JsonLib["populateObjectFromJsonObject"]=function(_14,_15,_16,_17){if(_14===undefined||_14===null){return null;}if(_16!=undefined&&_16!=null){var _18=0;var _19=_16.eglSignature.charAt(0);if(_19!=="?"){kind=_19;}else{kind=_16.eglSignature.charAt(1);_18=1;}switch(kind){case "S":case "s":var _1a=_16.eglSignature.indexOf(";");if(_1a>(++_18)){var len=egl.convertStringToSmallint(_16.eglSignature.substring(_18,_1a));_14=_14.substring(0,len);}return _14;case "K":return egl.stringToDate(_14,"yyyy-MM-dd");case "L":return egl.stringToTime(_14,"HH:mm:ss");case "J":return egl.stringToTimeStamp(_14,"yyyy-MM-dd HH:mm:ss");case "I":return egl.convertNumberToInt(_14);case "i":return egl.eglx.lang.EInt16.fromEInt32(_14);case "0":return egl.eglx.lang.EBoolean.fromEBoolean(_14);case "F":return egl.eglx.lang.EFloat64.fromEDecimal(_14);case "f":return egl.eglx.lang.EFloat32.fromEDecimal(_14);case "B":return egl.eglx.lang.EInt64.fromEInt32(_14);case "N":var _1b=_16.eglSignature.indexOf(":");return egl.eglx.lang.EDecimal.fromEString(_14.toString(),egl.convertStringToSmallint(_16.eglSignature.substring(_1b+1,_16.eglSignature.indexOf(";"))),egl.javascript.BigDecimal.prototype.NINES[egl.convertStringToSmallint(_16.eglSignature.substring(_18+1,_1b))-1]);case "d":var _1b=_16.eglSignature.indexOf(":");return egl.eglx.lang.EDecimal.fromEString(_14.toString(),egl.convertStringToSmallint(_16.eglSignature.substring(_1b+1,_16.eglSignature.indexOf(";"))),egl.javascript.BigDecimal.prototype.NINES[egl.convertStringToSmallint(_16.eglSignature.substring(_18+1,_1b))-1]);case "9":var _1b=_16.eglSignature.indexOf(":");return egl.eglx.lang.EDecimal.fromEString(_14.toString(),egl.convertStringToSmallint(_16.eglSignature.substring(_1b+1,_16.eglSignature.indexOf(";"))),egl.javascript.BigDecimal.prototype.NINES[egl.convertStringToSmallint(_16.eglSignature.substring(_18+1,_1b))-1]);}}if((_15==undefined||_15==null)&&_16!=null){_15=new _16.eglType();}if(!(typeof _14==="object"&&_14 instanceof Array)){if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.Enumeration){return egl.eglx.services.$ServiceRT.convertToEnum(_14,_16.eglType);}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EInt64){return egl.eglx.lang.EInt64.fromEInt32(_14);}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EInt32){return egl.convertNumberToInt(_14);}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EInt16){return egl.eglx.lang.EInt16.fromEInt32(_14);}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EFloat64){return egl.eglx.lang.EFloat64.fromEDecimal(_14);}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EFloat32){return egl.eglx.lang.EFloat32.fromEDecimal(_14);}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EDecimal){return new egl.javascript.BigDecimal(_14.toString());}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EBoolean){return egl.eglx.lang.EBoolean.fromEBoolean(_14);}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EDate){return egl.stringToDate(_14,"yyyy-MM-dd");}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.ETimestamp){return egl.stringToTimeStamp(_14,"yyyy-MM-dd HH:mm:ss");}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.ETime){return egl.stringToTime(_14,"HH:mm:ss");}if(_15!==null&&typeof _15==="object"&&_15 instanceof egl.eglx.lang.EString){return _14.toString();}if(_14!==null&&typeof _14==="object"&&_14 instanceof egl.javascript.BigDecimal){return _14;}if(typeof (_14)=="string"){return _14;}if(typeof (_14)=="number"){return _14;}if(typeof (_14)=="boolean"){return _14;}if(_15!==null&&typeof _14==="object"&&"eze$$getFieldInfos" in _15){var _1c=_15.eze$$getFieldInfos();if(_1c){for(var idx=0;idx<_1c.length;idx++){var key=_1c[idx].annotations["JsonName"].name;var _1d=this.populateObjectFromJsonObject(_14[key],null,_1c[idx],_17);if(_1c[idx].setterFunction instanceof Function){_1c[idx].setterFunction.apply(_1d);}else{_15[_1c[idx].setterFunction]=_1d;}}}return _15;}if(typeof _14==="object"&&_15===undefined||_15===null){_15=new egl.eglx.lang.EDictionary();}else{if(_15!==undefined&&_15!==null&&_15 instanceof egl.eglx.lang.EDictionary&&(_17===undefined||_17===true)){_15.removeAll();}}}if(typeof _14==="object"&&typeof _16==="object"&&_16!=null&&_16.eglSignature.indexOf("[")>-1){var ary=new Array();for(var idx=0;idx<_14.length;idx++){var _1e=egl.clone(_16);_1e.eglSignature=_1e.eglSignature.slice(1);ary[idx]=this.populateObjectFromJsonObject(_14[idx],null,_1e,_17);}return ary;}if(typeof _14==="object"&&_14 instanceof Array){var ary=new Array();for(var idx=0;idx<_14.length;idx++){if(typeof _15==="object"&&_15 instanceof Array){ary[idx]=this.populateObjectFromJsonObject(_14[idx],idx<_15.length?_15[idx]:null,null,_17);}else{if(_15!==undefined&&_15!==null){var _1f=_15;if("eze$$clone" in _15){_1f=_15.eze$$clone();}ary[idx]=this.populateObjectFromJsonObject(_14[idx],_1f,null,_17);}else{ary[idx]=this.populateObjectFromJsonObject(_14[idx],null,null,_17);}}}return ary;}if(_15!==null&&typeof _14==="object"&&"eze$$value" in _15&&"eze$$signature" in _15){this.populateObjectFromJsonObject(_14,egl.unboxAny(_15),undefined,_17);return _15;}if(typeof _14==="object"){for(var f in _14){if(typeof _14[f]!=="function"){_15[f]=this.populateObjectFromJsonObject(_14[f],_15[f]===undefined?null:_15[f],null,_17);}}return _15;}else{return "\"Cannot toJSONString "+_14;}};