egl.defineWidget("dojo.mobile.widgets","DojoMobileListItem","dojo.mobile.widgets","DojoMobileContainer","li",{"constructor":function(){var _1=this;_1.children=[];_1.text="";require(["dojo/mobile/utility/Synchronor"],function(_2){_1.synchronor=_2;_1.renderWhenDojoIsDoneLoading();});},"createDojoWidget":function(_3){var _4=this;_4.dom=_3;_4.dojoWidget=new dojox.mobile.ListItem({label:"",rightText:_4.actionText||"",moveTo:_4.moveTo,transition:_4.transition||"slide"},_3);_4.synchronor.trigger(_4,"SYN_READY");if(_4.children.length>0){dojo.addClass(_4.dojoWidget.domNode,"mblVariableHeight");_4._setIconStyle(true);}var _5=_4.dojoWidget.onClick;_4.dojoWidget.onClick=function(_6){if(typeof _5==="function"){_5.apply(_4.dojoWidget,arguments);}_4.handleEvent(_4.getOnClick(),"onClick");};_4.dojoWidget.startup();_4.textBox=_4._getTextBox();if(_4.icon){_4.setIcon(_4.icon);}if(_4.text){_4.setText(_4.text);}},"_setIconStyle":function(_7){var _8=this.dojoWidget.domNode.firstChild;if(_8&&_8.className=="mblListItemIcon"){if(_7){_8.style.marginLeft=0;_8.style.marginTop=0;}else{_8.style.marginLeft="18px";_8.style.marginTop="7px";}}},"_getTextBox":function(){if(this.dojoWidget){var _9=this.dojoWidget.domNode.getElementsByTagName("div");var _a;for(var n=0;n<_9.length;n++){if(_9[n].className=="mblListItemTextBox"){_a=_9[n];break;}}if(_a){_a.innerHTML="";}else{throw this.eze$$typename+".setChildren: Cannot find the parent widget";}return _a;}},"_appendChild":function(_b){if(this.dojoWidget){var _c=this.textBox;if(!dojo.hasClass(this.dojoWidget.domNode,"mblVariableHeight")){dojo.addClass(this.dojoWidget.domNode,"mblVariableHeight");this._setIconStyle(true);_c.innerHTML="";}_c.appendChild(_b.eze$$DOMElement);}},"_removeChild":function(_d){var _e=this.textBox;_e.removeChild(_d.eze$$DOMElement);if(this.children||this.children.length<=0){this._showText();}},"_showText":function(){if(this.dojoWidget){var _f=this.textBox;if(dojo.hasClass(this.dojoWidget.domNode,"mblVariableHeight")){dojo.removeClass(this.dojoWidget.domNode,"mblVariableHeight");this._setIconStyle(false);}_f.innerHTML=this.text;}},"removeChildren":function(){if(!this.children){return;}if(this.dojoWidget&&this.textBox.childNodes.length>1){for(var n=0;n<this.children.length;n++){this._removeChild(this.children[n]);}}this.children=[];this._showText();},"setText":function(_10){this.text=_10;if(this.dojoWidget&&this.children.length==0){this.dojoWidget.set("label",this.text);var _11=this.dojoWidget.domNode.getElementsByTagName("div");var _12;for(var n=0;n<_11.length;n++){if(_11[n].className=="mblListItemTextBox"){_12=_11[n];break;}}if(_12){_12.innerHTML=this.text;}else{}}},"getText":function(){return this.text;},"setIcon":function(_13){this.icon=_13;if(this.dojoWidget){this.dojoWidget.set("icon",this.icon);var _14=this.dojoWidget.domNode.firstChild;if(_14&&_14.className=="mblListItemIcon"){_14.src=this.icon;}else{_14=document.createElement("img");_14.setAttribute("class","mblListItemIcon");_14.src=this.icon;this.dojoWidget.domNode.insertBefore(_14,this.dojoWidget.domNode.firstChild);dojo.removeClass(this.dojoWidget.domNode.getElementsByTagName("a")[0],"mblListItemAnchorNoIcon");}}},"getIcon":function(){return this.icon;},"setActionText":function(_15){this.actionText=_15;if(this.dojoWidget){this.dojoWidget.set("rightText",_15);var _16=this.dojoWidget.domNode.getElementsByTagName("div");var _17;for(var n=0;n<_16.length;n++){if(_16[n].className=="mblListItemRightText"){_17=_16[n];break;}}if(_17){if(_15){_17.innerHTML=_15;}else{_17.parentNode.removeChild(_17);}}else{var txt=dojo.create("DIV");txt.className="mblRightText";txt.innerHTML=_15;this.dojoWidget.domNode.getElementsByTagName("a")[0].appendChild(txt);}}},"getActionText":function(){return this.actionText;},"_setMoveto":function(_18){if(this.dojoWidget){this.dojoWidget.set("moveTo",_18);}else{this.moveTo=_18;}},"_getIconNode":function(){var _19=this.dojoWidget.domNode.getElementsByTagName("div");var _1a;for(var n=0;n<_19.length;n++){if(_19[n].className=="mblListItemRightIcon"){_1a=_19[n];break;}}return _1a;},"_setActionView":function(){this.actionView._show();this.moveTo=this.actionView.getID();if(!this.moveTo){this.actionView._addRef(this);this.moveTo="stub";}else{this._setMoveto(this.moveTo);}},"setActionView":function(_1b){var _1c=this;_1c.actionView=_1b;if(_1c.dojoWidget){if(_1c.actionView){var _1d=_1c._getIconNode();if(!_1d){var _1e=dojo.create("div");var _1f=dojo.create("div");_1e.className="mblListItemRightIcon";_1f.className="mblDomButtonArrow mblDomButton";var a=_1c.dojoWidget.domNode.getElementsByTagName("a")[0];if(a.childNodes.length>1){a.insertBefore(_1e,a.childNodes[0]);}else{a.appendChild(_1e);}_1e.appendChild(_1f);_1f.appendChild(dojo.create("div"));var _20=_1c;if(_20.onClick){_1c.dojoWidget.connect(a,"onclick",_20.onClick);}else{_1c.dojoWidget.connect(a,"onclick",_20.dojoWidget.onClick);}}_1c._setActionView();}else{var _1d=_1c._getIconNode();if(_1d){_1c.onClick=_1c.dojoWidget.onClick;_1c.dojoWidget.onClick=function(){};_1d.parentNode.removeChild(_1d);}}}else{if(_1c.actionView){_1c._setActionView();}}},"getActionView":function(){return this.actionView;},"setActionTransition":function(_21){this.transition=_21;if(this.dojoWidget&&_21){this.dojoWidget.set("transition",_21);}},"getActionTransition":function(){return this.transition;},"setID":function(id){if(id&&id!="undefined"){this.id=id;}else{this.id="";}}});