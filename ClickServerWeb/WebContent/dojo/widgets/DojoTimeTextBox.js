egl.defineWidget("dojo.widgets","DojoTimeTextBox","dojo.widgets","DojoValidationBase","div",{"constructor":function(){this.timePattern="hh:mm a";this.renderWhenDojoIsDoneLoading(["dijit/form/TimeTextBox"]);},"createDojoWidget":function(_1){var _2=this;this._mergeArgs({id:this.id||"egl.DojoTimeTextBox"+(++egl._dojoSerial),type:"text",selector:"time"});this._setCommonProp();this.dojoWidget=new dijit.form.TimeTextBox(this._args,_1);this.dojoWidget.constraints.visibleIncrement=this.visibleIncrement||"T01:00";this.dojoWidget.constraints.timePattern=this.timePattern;this.dojoWidget.constraints.clickableIncrement=this.clickableIncrement||"T00:15";this.dojoWidget.constraints.visibleRange=this.visibleRange||"T03:00";this.setValidators(this.validators);this._setTextboxStyle();this.dojoWidget.startup();if(this.time){this.setValue(this.time);}},"setID":function(id){if(id==null){return;}egl.dojo.widgets.DojoValidationBase.prototype.setID.call(this,id);if(!(egl.IE&&egl.IEVersion<8)&&this.dojoWidget){this.dojoWidget.domNode.setAttribute("widgetid",id);}},"setValue":function(_3){this.time=_3;if(this.dojoWidget){this.dojoWidget.set("displayedValue",this.convertEGLTimeToDojoTime(_3));}},"convertEGLTimeToDojoTime":function(_4){return _4==null?"":egl.eglx.lang.StringLib.formatTime(_4,this.timePattern);},"getValue":function(){if(this.dojoWidget){if(this.dojoWidget.getValue()!=null){this.time=this.dojoWidget.getValue();}if(this.time==null){return null;}var _5=this.time;try{var s=""+this.twoDigits(_5.getHours())+":"+this.twoDigits(_5.getMinutes())+":"+this.twoDigits(_5.getSeconds());return egl.eglx.lang.ETime.fromEString(s);}catch(e){egl.printError("Cannot convert time "+_5,e);}}else{return this.time||new Date();}},"setText":function(_6){this.setValueAsText(_6);},"getText":function(){return (this.getValueAsText());},"twoDigits":function(_7){_7=parseInt(_7);return ""+(_7<10?"0":"")+_7;},"setTimePattern":function(_8){this.timePattern=_8;if(this.dojoWidget){this.dojoWidget.constraints.timePattern=_8;this.dojoWidget.set("displayedValue",this.convertEGLTimeToDojoTime(this.time));}},"getTimePattern":function(){return this.timePattern;},"setClickableIncrement":function(_9){this.clickableIncrement=_9;if(this.dojoWidget){this.dojoWidget.constraints.clickableIncrement=_9;}},"getClickableIncrement":function(){return this.clickableIncrement;},"setVisibleIncrement":function(_a){this.visibleIncrement=_a;if(this.dojoWidget){this.dojoWidget.constraints.visibleIncrement=_a;}},"getVisibleIncrement":function(){return this.visibleIncrement;},"setVisibleRange":function(_b){this.visibleRange=_b;if(this.dojoWidget){this.dojoWidget.constraints.visibleRange=_b;}},"getVisibleRange":function(){return this.visibleRange;},"getValueAsText":function(){if(this.dojoWidget){if(this.getValue()){return (egl.eglx.lang.StringLib.formatTime(this.getValue()));}else{return "";}}else{return this.time||new Date();}},"setValueAsText":function(_c){if(_c==""){this.setValue(null);}else{this.setValue(egl.eglx.lang.ETime.fromEString(_c));}}});