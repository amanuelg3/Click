define(["ezekw$$dojo/widgets/eze$$DojoTextField","eglx/ui/rui/eze$$Widget","ezekw$$dojo/widgets/eze$$DojoButton","ezekw$$dojo/widgets/eze$$DojoDialog","eglx/ui/rui/eze$$Event"],function(){egl.defineRUILibrary("dojo.widgets","DojoDialogLib",{"eze$$fileName":"dojo/widgets/DojoDialogLib.egl","eze$$runtimePropertiesFile":"dojo.widgets.DojoDialogLib","constructor":function(){if(egl.dojo.widgets.DojoDialogLib["$inst"]){return egl.dojo.widgets.DojoDialogLib["$inst"];}egl.dojo.widgets.DojoDialogLib["$inst"]=this;},"eze$$setEmpty":function(){this.ID_OK="";this.ID_OK="OK";this.ID_CANCEL="";this.ID_CANCEL="CANCEL";this.ID_YES="";this.ID_YES="YES";this.ID_NO="";this.ID_NO="NO";this.ID_RETRY="";this.ID_RETRY="RETRY";},"eze$$setInitial":function(){if(egl.dojo.widgets.DojoDialogLib["$inst"]){return egl.dojo.widgets.DojoDialogLib["$inst"];}egl.dojo.widgets.DojoDialogLib["$inst"]=this;this.eze$$setEmpty();},"eze$$getAnnotations":function(){if(this.annotations===undefined){this.annotations={};this.annotations["XMLRootElement"]=new egl.eglx.xml.binding.annotation.XMLRootElement("DojoDialogLib",null,false);}return this.annotations;},"eze$$getFieldInfos":function(){if(this.fieldInfos===undefined){var _1;this.fieldInfos=new Array();}return this.fieldInfos;},"showAlert":function(_2){var _3;_3=[this.createButton("OK",this.ID_OK,null)].setType("[dojo.widgets.DojoButton");var _4;_4=this.createContents(_2,null);return this.createDialog(null,_2,_4,_3);},"showMessage":function(_5,_6,_7){var _8;_8=[this.createButton("OK",this.ID_OK,_7)].setType("[dojo.widgets.DojoButton");var _9;_9=this.createContents(_6,null);return this.createDialog(_5,_6,_9,_8);},"showQuestion":function(_a,_b,_c){var _d;_d=[this.createButton("Yes",this.ID_YES,_c),this.createButton("No",this.ID_NO,_c)].setType("[dojo.widgets.DojoButton");var _e;_e=this.createContents(_b,"images/question_32.png");return this.createDialog(_a,_b,_e,_d);},"showWarning":function(_f,_10,_11){var _12;_12=[this.createButton("OK",this.ID_OK,_11)].setType("[dojo.widgets.DojoButton");var _13;_13=this.createContents(_10,"images/warning_32.png");return this.createDialog(_f,_10,_13,_12);},"showError":function(_14,_15,_16){var _17;_17=[this.createButton("OK",this.ID_OK,_16)].setType("[dojo.widgets.DojoButton");var _18;_18=this.createContents(_15,"images/error_32.png");return this.createDialog(_14,_15,_18,_17);},"showProgress":function(_19,_1a,_1b,_1c){var _1d=[];if(_1b){_1d=[this.createButton("Cancel",this.ID_CANCEL,_1c)].setType("[dojo.widgets.DojoButton");}var _1e;_1e=this.createContents(_1a,"images/progress_32.gif");return this.createDialog(_19,_1a,_1e,_1d);},"showRetryCancel":function(_1f,_20,_21){var _22;_22=[this.createButton("Retry",this.ID_RETRY,_21),this.createButton("Cancel",this.ID_CANCEL,_21)].setType("[dojo.widgets.DojoButton");var _23;_23=this.createContents(_20,"images/error_32.png");return this.createDialog(_1f,_20,_23,_22);},"promptForValue":function(_24,_25,_26){var _27=new egl.dojo.widgets.DojoTextField();_27.setWidth("300px");_27.setStyle("max-width: 500px");var _28;_28=this.createButtonForPrompt("OK",this.ID_OK,_27);var _29;_29=this.createButtonForPrompt("Cancel",this.ID_CANCEL,_27);var _2a;_2a=[_28,_29].setType("[dojo.widgets.DojoButton");var _2b=new egl.eglx.lang.EDictionary();egl.eglx.lang.EDictionary.set(_2b,"okButton",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_28,"dojo.widgets.DojoButton"]));egl.eglx.lang.EDictionary.set(_2b,"cancelButton",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_29,"dojo.widgets.DojoButton"]));egl.eglx.lang.EDictionary.set(_2b,"callback",{eze$$value:_26,eze$$signature:egl.inferSignature(_26)});_27.setUserData(egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_2b,"y;"]));var _2c=null;var _2d;_2d=(function(){var _2e=new egl.eglx.ui.rui.Widget();return _2e;}).call(this);_2d.setTagName("td");_2d.setInnerHTML(_25);_2d.setStyle("padding: 4px; vertical-align: middle; max-width: 500px");_2c=_2d;var _2f=new egl.eglx.ui.rui.Widget();_2f.setTagName("tr");_2f.setChildren([_2c].setType("[eglx.ui.rui.Widget"));var _30=null;var _2d;_2d=(function(){var _31=new egl.eglx.ui.rui.Widget();return _31;}).call(this);_2d.setTagName("td");_2d.setChildren([egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[_27,"dojo.widgets.DojoTextField"])].setType("[dojo.widgets.DojoTextField"));_30=_2d;var _32=new egl.eglx.ui.rui.Widget();_32.setTagName("tr");_32.setChildren([_30].setType("[eglx.ui.rui.Widget"));var _33=new egl.eglx.ui.rui.Widget();_33.setTagName("tbody");_33.setChildren([_2f,_32].setType("[eglx.ui.rui.Widget"));var _34=new egl.eglx.ui.rui.Widget();_34.setTagName("table");_34.setChildren([_33].setType("[eglx.ui.rui.Widget"));_34.setStyle("max-width: 500px");egl.checkNull(_34).getOnKeyDown().appendElement(new egl.egl.jsrt.Delegate(this,egl.dojo.widgets.DojoDialogLib.prototype.tableKeyDown));_34.setAttribute("border",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,["0","S;"]));_34.setUserData(egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_2b,"y;"]));if((egl.eglx.lang.EAny.equals(_24,null))){_24=egl.eglx.ui.rui.RuiLib.getTitle();}var _35=new egl.dojo.widgets.DojoDialog();egl.checkNull(_35).title=egl.checkNull(_24);_35.setChildren([_34].setType("[eglx.ui.rui.Widget"));_35.setButtons(_2a);_35.showDialog();return _35;},"tableKeyDown":function(e){var _36;_36=egl.checkNull(egl.eglx.lang.EAny.ezeCast(egl.checkNull(e).widget.getUserData(),egl.eglx.lang.EDictionary));if(((((egl.checkNull(e).ch==13))&&(egl.eglx.lang.EAny.notEquals(egl.eglx.lang.EDictionary.get(_36,"okButton"),null))))){var _37;_37=egl.eglx.lang.EAny.ezeCast(egl.eglx.lang.EDictionary.get(_36,"okButton"),egl.dojo.widgets.DojoButton);egl.checkNull(e).widget=egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[_37,"dojo.widgets.DojoButton"]);this.promptButtonClicked(e);}if(((((egl.checkNull(e).ch==27))&&(egl.eglx.lang.EAny.notEquals(egl.eglx.lang.EDictionary.get(_36,"cancelButton"),null))))){var _37;_37=egl.eglx.lang.EAny.ezeCast(egl.eglx.lang.EDictionary.get(_36,"cancelButton"),egl.dojo.widgets.DojoButton);egl.checkNull(e).widget=egl.eglx.lang.convert(egl.eglx.ui.rui.Widget.fromWidget,[_37,"dojo.widgets.DojoButton"]);this.promptButtonClicked(e);}},"createDialog":function(_38,_39,_3a,_3b){if((egl.eglx.lang.EAny.equals(_38,null))){_38=egl.eglx.ui.rui.RuiLib.getTitle();}var _3c=new egl.dojo.widgets.DojoDialog();egl.checkNull(_3c).title=egl.checkNull(_38);_3c.setChildren([_3a].setType("[eglx.ui.rui.Widget"));_3c.setButtons(_3b);_3c.setStyle((((("min-width:")+egl.eglx.lang.convert(egl.eglx.lang.EString.fromEInt32,[egl.eglx.lang.EString.textLen(_38)])))+"em"));_3c.showDialog();return _3c;},"createButton":function(_3d,id,_3e){var _3f=new egl.dojo.widgets.DojoButton();_3f.setValue(id);_3f.setText(_3d);egl.checkNull(_3f).getOnClick().appendElement(new egl.egl.jsrt.Delegate(this,egl.dojo.widgets.DojoDialogLib.prototype.buttonClicked));var _40=new egl.eglx.lang.EDictionary();egl.eglx.lang.EDictionary.set(_40,"functionId",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[id,"S;"]));egl.eglx.lang.EDictionary.set(_40,"callback",{eze$$value:_3e,eze$$signature:egl.inferSignature(_3e)});_3f.setUserData(egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_40,"y;"]));return _3f;},"createButtonForPrompt":function(_41,id,_42){var _43=new egl.dojo.widgets.DojoButton();_43.setValue(id);_43.setText(_41);egl.checkNull(_43).getOnClick().appendElement(new egl.egl.jsrt.Delegate(this,egl.dojo.widgets.DojoDialogLib.prototype.promptButtonClicked));var _44=new egl.eglx.lang.EDictionary();egl.eglx.lang.EDictionary.set(_44,"functionId",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[id,"S;"]));egl.eglx.lang.EDictionary.set(_44,"promptField",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_42,"dojo.widgets.DojoTextField"]));_43.setUserData(egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_44,"y;"]));return _43;},"createContents":function(_45,_46){var _47=new egl.eglx.ui.rui.Widget();_47.setTagName("tr");_47.setChildren([]);var _48=new egl.eglx.ui.rui.Widget();_48.setTagName("tbody");_48.setChildren([_47].setType("[eglx.ui.rui.Widget"));var _49=new egl.eglx.ui.rui.Widget();_49.setTagName("table");_49.setClass("EGLDojoDialogLibTable");_49.setChildren([_48].setType("[eglx.ui.rui.Widget"));_49.setStyle("max-width: 500px");_49.setAttribute("border",egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,["0","S;"]));if((egl.eglx.lang.EAny.notEquals(_46,null))){var _4a=new egl.eglx.ui.rui.Widget();_4a.setTagName("img");_4a.setAttribute("src",egl.checkNull(egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[_46,"S;"])));var _4b=null;var _4c;_4c=(function(){var _4d=new egl.eglx.ui.rui.Widget();return _4d;}).call(this);_4c.setTagName("td");_4c.setWidth(egl.eglx.lang.convert(egl.eglx.lang.EString.fromEInt32,[32]));_4c.setChildren([_4a].setType("[eglx.ui.rui.Widget"));_4c.setStyle("padding: 4px; vertical-align: middle");_4b=_4c;_47.appendChild(egl.checkNull(_4b));}var _4e=null;var _4c;_4c=(function(){var _4f=new egl.eglx.ui.rui.Widget();return _4f;}).call(this);_4c.setTagName("td");_4c.setInnerHTML(_45);_4c.setStyle("padding: 4px; vertical-align: middle; max-width: 500px");_4e=_4c;_47.appendChild(egl.checkNull(_4e));return _49;},"buttonClicked":function(e){var _50;_50=egl.eglx.lang.EAny.ezeCast({eze$$value:egl.checkNull(e).widget,eze$$signature:"eglx.ui.rui.Widget"},egl.dojo.widgets.DojoButton);var _51;_51=this.findParentDialog(egl.checkNull(e).widget);var _52;_52=egl.checkNull(egl.eglx.lang.EAny.ezeCast(_50.getUserData(),egl.eglx.lang.EDictionary));var _53;_53=true;if((egl.eglx.lang.EAny.notEquals(egl.eglx.lang.EDictionary.get(_52,"callback"),null))){var _54;_54=egl.eglx.lang.EAny.ezeCast(egl.eglx.lang.EDictionary.get(_52,"callback"),egl.eglx.lang.AnyDelegate);var _55;_55=egl.eglx.lang.EString.ezeCast(egl.eglx.lang.EDictionary.get(_52,"functionId"),false);_53=_54(_55,e);}if(_53){_51.hideDialog();}},"promptButtonClicked":function(e){var _56;_56=egl.eglx.lang.EAny.ezeCast({eze$$value:egl.checkNull(e).widget,eze$$signature:"eglx.ui.rui.Widget"},egl.dojo.widgets.DojoButton);var _57;_57=egl.checkNull(egl.eglx.lang.EAny.ezeCast(_56.getUserData(),egl.eglx.lang.EDictionary));var _58;_58=egl.eglx.lang.EAny.ezeCast(egl.eglx.lang.EDictionary.get(_57,"promptField"),egl.dojo.widgets.DojoTextField);var _59;_59=this.findParentDialog(egl.checkNull(e).widget);var _5a;_5a=true;if((egl.eglx.lang.EAny.notEquals(_58.getUserData(),null))){var _5b;_5b=egl.checkNull(egl.eglx.lang.EAny.ezeCast(_58.getUserData(),egl.eglx.lang.EDictionary));if((egl.eglx.lang.EAny.notEquals(egl.eglx.lang.EDictionary.get(_5b,"callback"),null))){var _5c;_5c=egl.eglx.lang.EAny.ezeCast(egl.eglx.lang.EDictionary.get(_5b,"callback"),egl.eglx.lang.AnyDelegate);if((egl.eglx.lang.EAny.equals(egl.eglx.lang.EDictionary.get(_57,"functionId"),egl.eglx.lang.convert(egl.eglx.lang.EAny.fromEAny,[this.ID_CANCEL,"S;"])))){_5a=_5c(null,e);}else{_5a=_5c(egl.checkNull(_58).getText(),e);}}}if(_5a){_59.hideDialog();}},"findParentDialog":function(_5d){var _5e;_5e=egl.checkNull(_5d).getParent();while((((egl.eglx.lang.EAny.notEquals(_5e,null))&&!((_5e instanceof egl.dojo.widgets.DojoDialog))))){_5e=egl.checkNull(_5e).getParent();}return egl.eglx.lang.EAny.ezeCast({eze$$value:_5e,eze$$signature:"eglx.ui.rui.Widget"},egl.dojo.widgets.DojoDialog);},"getID_OK":function(){return ID_OK;},"getID_CANCEL":function(){return ID_CANCEL;},"getID_YES":function(){return ID_YES;},"getID_NO":function(){return ID_NO;},"getID_RETRY":function(){return ID_RETRY;},"toString":function(){return "[DojoDialogLib]";}});});