egl.defineClass("eglx.lang","StringLib",{"constructor":function(){}});egl.eglx.lang.StringLib["getNextToken"]=function(_1,_2,_3,_4){var _5=_2.ezeUnbox?_2.ezeUnbox():_2;var _6=_1.length;if(_5<1||_5>_6){throw egl.createInvalidIndexException("CRRUI2021E",[_2],_2);}var _7=_5-1;while(_7!=_6&&_3.indexOf(_1.charAt(_7))!=-1){_7++;}if(_7>=_6){_2.ezeCopy?_2.ezeCopy(_8+1):"";return null;}var _8=_7+1;while(_8!=_6&&_3.indexOf(_1.charAt(_8))==-1){_8++;}_2.ezeCopy?_2.ezeCopy(_8+1):"";if(_4){_4(_1.substring(_7),_8);}return _1.substring(_7,_8);};egl.eglx.lang.StringLib["getTokenCount"]=function(_9,_a){var _b=1;var _c;var _d;var _e=function(_f,_10){_9=_f;_b=_10;};try{for(_c=0;_c<_9.length;_c++){_d=egl.eglx.lang.StringLib.getNextToken(_9,_b,_a,_e);}}catch(exception){}finally{return _c;}};egl.eglx.lang.StringLib["fromCharCode"]=function(i){if((i>=0)&&(i<=65535)){return String.fromCharCode(i);}else{throw new egl.eglx.lang.InvalidArgumentException();}};egl.eglx.lang.StringLib["spaces"]=function(i){var s=[];for(var n=0;n<i;++n){s.push(" ");}return (s.join(""));};egl.eglx.lang.StringLib.defaultDateFormat="MM/dd/yyyy";egl.eglx.lang.StringLib.db2TimestampFormat="yyyy-MM-dd-HH.mm.ss.ffffff";egl.eglx.lang.StringLib.jisTimeFormat="HH:mm:ss";egl.eglx.lang.StringLib["format"]=function(x,b){if(x==null||x.eze$$value===null){throw egl.createNullValueException("CRRUI2005E",[]);}var _11;if(!x.eze$$signature){return egl.eglx.lang.StringLib.formatTimestamp(x,b);}var _12=x.eze$$signature.charAt(0);var _13=0;if(_12!=="?"){_11=_12;}else{_11=x.eze$$signature.charAt(1);_13=1;}x=x.eze$$value;switch(_11){case "I":case "i":return egl.eglx.lang.StringLib.fmtNumDouble(x,b,new egl.eglx.lang.stringlib.LocalizedText());case "B":case "d":return egl.eglx.lang.StringLib.fmtNumBigDecimal(x,b,new egl.eglx.lang.stringlib.LocalizedText());case "F":case "f":return egl.eglx.lang.StringLib.fmtNumFloat(x,b,new egl.eglx.lang.stringlib.LocalizedText());case "K":return egl.eglx.lang.StringLib.formatDate(x,b);case "J":return egl.eglx.lang.StringLib.formatTimestamp(x,b);case "L":return egl.eglx.lang.StringLib.formatTime(x,b);}return "";};egl.eglx.lang.StringLib["formatTimestamp"]=function(val,_14){if(!_14||_14==""){_14=egl.eglx.lang.StringLib.db2TimestampFormat;}try{return egl.timeStampToString(val,_14);}catch(oops){return null;}};egl.eglx.lang.StringLib["formatTime"]=function(val,_15){if(!_15||_15==""){_15=egl.eglx.lang.StringLib.jisTimeFormat;}try{return egl.timeToString(val,_15);}catch(oops){return null;}};egl.eglx.lang.StringLib["formatDate"]=function(_16,_17){if(!_17){_17=egl.eglx.lang.StringLib.defaultDateFormat;}try{return egl.dateToString(_16,_17);}catch(oops){return null;}};egl.eglx.lang.StringLib["fmtNumBigDecimal"]=function(_18,_19,_1a){if(_19==null||_19.trim().length==0){return "";}return egl.eglx.lang.StringLib.fmtNumString(_18.toString(),_18.signum(),_19,_1a);};egl.eglx.lang.StringLib["fmtNumFloat"]=function(_1b,_1c,_1d){if(_1c==null||_1c.trim().length==0){return "";}if(_1b>0){return egl.eglx.lang.StringLib.fmtNumString(_1b.toString(),1,_1c,_1d);}else{if(_1b<0){return egl.eglx.lang.StringLib.fmtNumString(_1b.toString(),-1,_1c,_1d);}}return egl.eglx.lang.StringLib.fmtNumString(_1b.toString(),0,_1c,_1d);};egl.eglx.lang.StringLib["fmtNumDouble"]=function(_1e,_1f,_20){if(_1f==null||_1f.trim().length==0){return "";}if(_1e>0){return egl.eglx.lang.StringLib.fmtNumString(_1e.toString(),1,_1f,_20);}else{if(_1e<0){return egl.eglx.lang.StringLib.fmtNumString(_1e.toString(),-1,_1f,_20);}}return egl.eglx.lang.StringLib.fmtNumString(_1e.toString(),0,_1f,_20);};egl.eglx.lang.StringLib["fmtNumString"]=function(_21,_22,_23,_24){if(_21.charAt(0)=="-"){_21=_21.substring(1);}if(_21.charAt(0)=="0"){_21=_21.substring(1);}var _25=80;if(_21.length>_25){_25=_21.length;var _26=_23.indexOf(".");var _27=_23.length;var _28=_27-_26;_25+=_28;}var _29=_25+2;var _2a=new Array(_29);egl.eglx.lang.StringLib.initArray(_2a);egl.eglx.lang.StringLib.getChars(_23,0,Math.min(_25,_23.length),_2a,1);var _2b=_2a;var _2c=1;var _2d=-1;for(;egl.eglx.lang.StringLib.toCharCode(_2b[_2c])!=0;_2c++){if(_2b[_2c]=="."){_2c++;_2d=_2c;break;}}var _2e=0;for(;egl.eglx.lang.StringLib.toCharCode(_2b[_2c])!=0;_2c++){switch(_2b[_2c]){case "$":case "#":case "&":case "*":case "(":case "+":case "-":case "<":_2e++;}}var _2f=new Array(_29);egl.eglx.lang.StringLib.initArray(_2f);var _30=egl.eglx.lang.StringLib.deccvt(_21,_22,_2e,_2f);var _31=new egl.eglx.lang.stringlib.CCharArray(_29);_31.ccharArrayIndex=1+_30;for(var i=0;egl.eglx.lang.StringLib.toCharCode(_2f[i])!=0;i++){_31.ccharArray[i+1]=_2f[i];}var _32=new egl.eglx.lang.stringlib.CBoolean(false);var _33=egl.eglx.lang.StringLib.fmtanalysis(_2a,_32);var _34=new egl.eglx.lang.stringlib.CBoolean(true);var _35=new egl.eglx.lang.stringlib.CBoolean(true);var _36=new egl.eglx.lang.stringlib.CBoolean(true),_37=new egl.eglx.lang.stringlib.CBoolean(true),_38=new egl.eglx.lang.stringlib.CBoolean(true);var _39=new egl.eglx.lang.stringlib.CInteger(0);var _3a=new Array(8);egl.eglx.lang.StringLib.initArray(_3a);egl.eglx.lang.StringLib.chksigns(_2a,_39,_36,_37,_34,_35,_38,_3a);var _3b=new egl.eglx.lang.stringlib.CCharArray();_2c=egl.eglx.lang.StringLib.align(_2d-1,_3b,_31,_2b,_2c,_33);var _3c=new Array(_29);egl.eglx.lang.StringLib.initArray(_3c);var _3d=0;var _3e=new egl.eglx.lang.stringlib.CInteger(0);var _3f=_2b[_2c];var _40=_22==-1;for(;egl.eglx.lang.StringLib.toCharCode(_3f)!=0;_3f=_2b[--_2c]){if(_3f==","&&egl.eglx.lang.StringLib.toCharCode(_3b.ccharArray[_3b.ccharArrayIndex])==0){_2b[_2c]=_3d;_3f=_3d;}switch(_3f){case ",":_3c[_3e.value++]=_24.getSeparatorSymbol();break;case ".":var _41=_32.value?_24.getMonetaryDecimalSeparator():_24.getDecimalSymbol();_3c[_3e.value++]=_41;break;case "<":egl.eglx.lang.StringLib.leadingLT(_3b,_3c,_3e);break;case "*":egl.eglx.lang.StringLib.leadingNotLT(_3b,_3c,_3e,"*");break;case "&":egl.eglx.lang.StringLib.leadingNotLT(_3b,_3c,_3e,"0");break;case "#":egl.eglx.lang.StringLib.leadingNotLT(_3b,_3c,_3e," ");break;case "-":egl.eglx.lang.StringLib.prsigns(_37.value,_3b,_3c,_39,_3e,_3a,_37,_38,_36,_34,_35,_40,_24);break;case "+":egl.eglx.lang.StringLib.prsigns(_38.value,_3b,_3c,_39,_3e,_3a,_37,_38,_36,_34,_35,_40,_24);break;case "(":egl.eglx.lang.StringLib.prsigns(_36.value,_3b,_3c,_39,_3e,_3a,_37,_38,_36,_34,_35,_40,_24);break;case "$":egl.eglx.lang.StringLib.prsigns(_34.value,_3b,_3c,_39,_3e,_3a,_37,_38,_36,_34,_35,_40,_24);break;case "@":egl.eglx.lang.StringLib.prsigns(_35.value,_3b,_3c,_39,_3e,_3a,_37,_38,_36,_34,_35,_40,_24);break;case ")":_3c[_3e.value++]=_40?")":" ";break;default:_3c[_3e.value++]=_3f;break;}_3d=_3f;}var _42=new Array(_29);egl.eglx.lang.StringLib.initArray(_42);var len=egl.eglx.lang.StringLib.rpfs(_42,_3c,_3e.value-1,_35,_34,_37,_38,_36,_3b);return _42.slice(0,len).join("");};egl.eglx.lang.StringLib["deccvt"]=function(_43,_44,_45,_46){var _47=0;var seq;var _48=_43.indexOf(".");if(_48==-1){var buf=new egl.eglx.lang.stringlib.StringBuilder();buf.append(_43);buf.append(".");while(_45>=50){buf.append(egl.eglx.lang.stringlib.Constants.STRING_50_ZEROS);_45-=50;}if(_45>0){buf.append(egl.eglx.lang.stringlib.Constants.STRING_50_ZEROS.substring(0,_45));}seq=buf;}else{if(_45==0){seq=_43.substring(0,_48);}else{var _49=_43.length-_48-1;if(_49==_45){seq=_43;}else{if(_49<_45){var _4a=_45-_49;var buf=new egl.eglx.lang.stringlib.StringBuilder();buf.append(_43);while(_4a>=50){buf.append(egl.eglx.lang.stringlib.Constants.STRING_50_ZEROS);_4a-=50;}if(_4a>0){buf.append(egl.eglx.lang.stringlib.Constants.STRING_50_ZEROS.substring(0,_4a));}seq=buf;}else{seq=_43.substring(0,_43.length-(_49-_45));}}}}if(_44!=0){var _4b;if(typeof (seq)=="string"){_4b=seq.length;}else{_4b=seq.length();}_47=_4b;for(var j=0,i=0;i<_4b;i++){var c=seq.charAt(i);if(c=="."){_47=i;}else{_46[j++]=c;}}}return _47;};egl.eglx.lang.StringLib["fmtanalysis"]=function(_4c,_4d){var i=1;while(true){switch(_4c[i]){case 0:return i;case "$":case "@":_4d.value=true;break;}i++;}};egl.eglx.lang.StringLib["chksigns"]=function(_4e,_4f,_50,_51,_52,_53,_54,_55){var c=_4e[1];for(var i=2;egl.eglx.lang.StringLib.toCharCode(c)!=0;i++){switch(c){case "(":egl.eglx.lang.StringLib.ldsigna("(",_4f,_55);_50.value=false;break;case "-":egl.eglx.lang.StringLib.ldsigna("-",_4f,_55);_51.value=false;break;case "$":egl.eglx.lang.StringLib.ldsigna("$",_4f,_55);_52.value=false;break;case "@":egl.eglx.lang.StringLib.ldsigna("@",_4f,_55);_53.value=false;break;case "+":egl.eglx.lang.StringLib.ldsigna("+",_4f,_55);_54.value=false;break;}c=_4e[i];}};egl.eglx.lang.StringLib["align"]=function(_56,_57,_58,_59,_5a,_5b){if(_56>=0){_57.ccharArray=_58.ccharArray;_57.ccharArrayIndex=_58.ccharArrayIndex;for(_5a=_56+1;egl.eglx.lang.StringLib.toCharCode(_59[_5a])!=0;_5a++){if(egl.eglx.lang.StringLib.toCharCode(_57.ccharArray[_57.ccharArrayIndex])==0){_57.ccharArray[_57.ccharArrayIndex]="0";}switch(_59[_5a]){case "*":case "$":case "#":case "&":case "(":case "+":case "-":case "<":_57.ccharArrayIndex++;}}}else{_5a=_5b;_57.ccharArray=_58.ccharArray;_57.ccharArrayIndex=_58.ccharArrayIndex;}_57.ccharArrayIndex--;return _5a-1;};egl.eglx.lang.StringLib["leadingNotLT"]=function(_5c,_5d,_5e,_5f){if(egl.eglx.lang.StringLib.toCharCode(_5c.ccharArray[_5c.ccharArrayIndex])==0){_5d[_5e.value++]=_5f;}else{_5d[_5e.value++]=_5c.ccharArray[_5c.ccharArrayIndex--];}};egl.eglx.lang.StringLib["leadingLT"]=function(_60,_61,_62){if(egl.eglx.lang.StringLib.toCharCode(_60.ccharArray[_60.ccharArrayIndex])!=0){_61[_62.value++]=_60.ccharArray[_60.ccharArrayIndex--];}};egl.eglx.lang.StringLib["prsigns"]=function(_63,_64,_65,_66,_67,_68,_69,_6a,_6b,_6c,_6d,_6e,_6f){if(egl.eglx.lang.StringLib.toCharCode(_64.ccharArray[_64.ccharArrayIndex])==0){if(!_63){_66.value--;switch(_68[_66.value]){case "-":egl.eglx.lang.StringLib.prsi(_65,_67,_69,"-"," ",_6e," ",_6f);break;case "+":egl.eglx.lang.StringLib.prsi(_65,_67,_6a,"-","+",_6e," ",_6f);break;case "(":egl.eglx.lang.StringLib.prsi(_65,_67,_6b,"("," ",_6e," ",_6f);break;case "$":egl.eglx.lang.StringLib.prsi(_65,_67,_6c,"$","$",_6e," ",_6f);break;case "@":egl.eglx.lang.StringLib.prsi(_65,_67,_6d,"@","@",_6e," ",_6f);break;}}else{_65[_67.value++]=" ";}}else{if(!_63){if(_68[_66.value-1]=="@"){_66.value--;egl.eglx.lang.StringLib.prsi(_65,_67,_6d,"@","@",_6e," ",_6f);}else{_65[_67.value++]=_64.ccharArray[_64.ccharArrayIndex--];}}}};egl.eglx.lang.StringLib["rpfs"]=function(cp,_70,_71,_72,_73,_74,_75,_76,_77){var _78=0;if(_72.value&&_73.value&&_74.value&&_75.value&&_76.value&&egl.eglx.lang.StringLib.toCharCode(_77.ccharArray[_77.ccharArrayIndex])==0){for(;_71>=0;_78++,_71--){if(egl.eglx.lang.StringLib.toCharCode(_70[_71])==0){return _78;}cp[_78]=_70[_71];}}else{for(;_71>=0;_71--){cp[_78++]="*";}}return _78;};egl.eglx.lang.StringLib["prsi"]=function(_79,_7a,_7b,neg,pos,_7c,_7d,_7e){if(!_7b.value){if(neg=="$"){var _7f=_7e.getCurrencySymbol();var len=_7f.length;if(len==1){_79[_7a.value++]=_7f.charAt(0);}else{if(len==0){_79[_7a.value++]=" ";}else{while(len>0){_79[_7a.value++]=_7f.charAt(--len);}}}}else{if(neg=="@"){var _7f=_7e.getCurrencySymbol();var len=_7f.length;if(len==1){egl.eglx.lang.StringLib.pl(_79,_7a,_7f.charAt(0));}else{if(len==0){egl.eglx.lang.StringLib.pl(_79,_7a," ");}else{for(var i=0;i<len;i++){egl.eglx.lang.StringLib.pl(_79,_7a,_7f.charAt(i));}}}}else{_79[_7a.value++]=_7c?neg:pos;}}_7b.value=true;}else{if(_7d!="<"){_79[_7a.value++]=_7d;}}};egl.eglx.lang.StringLib["pl"]=function(_80,_81,c){var _82=_81.value;while(_82>0){_80[_82]=_80[--_82];}_80[_82]=c;_81.value++;};egl.eglx.lang.StringLib["ldsigna"]=function(c,_83,_84){if(_83.value==0||c!=_84[_83.value-1]){_84[_83.value++]=c;}};egl.eglx.lang.StringLib["getChars"]=function(_85,_86,_87,_88,_89){var _8a=_85.substr(_86,_87).split("");for(var i=0;i<_8a.length;i++,_89++){_88[_89]=_8a[i];}};egl.eglx.lang.StringLib["initArray"]=function(_8b){for(var i=0;i<_8b.length;i++){_8b[i]=0;}};egl.eglx.lang.StringLib["toCharCode"]=function(_8c){if(_8c.charCodeAt){return _8c.charCodeAt(0);}return 0;};egl.defineClass("eglx.lang.stringlib","CBoolean",{"constructor":function(_8d){this.value=_8d;}});egl.defineClass("eglx.lang.stringlib","CCharArray",{"constructor":function(_8e){this.ccharArray=new Array(_8e);egl.eglx.lang.StringLib.initArray(this.ccharArray);this.ccharArrayIndex=0;}});egl.defineClass("eglx.lang.stringlib","CInteger",{"constructor":function(_8f){this.value=_8f;}});egl.defineClass("eglx.lang.stringlib","StringBuilder",{"constructor":function(_90){this.stringsArray=new Array("");this.append(_90);}});egl.eglx.lang.stringlib.StringBuilder.prototype.append=function(_91){if(_91){this.stringsArray.push(_91);}};egl.eglx.lang.stringlib.StringBuilder.prototype.length=function(){return this.stringsArray.join("").length;};egl.eglx.lang.stringlib.StringBuilder.prototype.charAt=function(i){return this.stringsArray.join("").charAt(i);};egl.defineClass("eglx.lang.stringlib","LocalizedText",{"constructor":function(){}});egl.eglx.lang.stringlib.LocalizedText.prototype.getSeparatorSymbol=function(){return ",";};egl.eglx.lang.stringlib.LocalizedText.prototype.getMonetaryDecimalSeparator=function(){return ",";};egl.eglx.lang.stringlib.LocalizedText.prototype.getDecimalSymbol=function(){return ".";};egl.eglx.lang.stringlib.LocalizedText.prototype.getCurrencySymbol=function(){return "$";};egl.defineClass("eglx.lang.stringlib","Constants",{"constructor":function(){}});egl.eglx.lang.stringlib.Constants.STRING_50_ZEROS="00000000000000000000000000000000000000000000000000";