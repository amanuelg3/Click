egl.defineWidget("dojo.mobile.widgets","DojoMobileListItem","dojo.mobile.widgets","DojoMobileContainer","li",{"constructor":function(){var _1=this;_1.children=[];_1.text="";require(["dojo/mobile/utility/Synchronor","dojox/mobile/ListItem","dojo/on","dojo/_base/sniff","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojox/mobile/common"],function(_2,li,on,_3,_4,_5,_6,_7){_1.synchronor=_2;if(!li.extendedStartup){li.extend({"startup":function(){var _8=this;if(_8._started){return;}_8.inheritParams();var _9=_8.getParent();if(_8.moveTo||_8.href||_8.url||_8.clickable||(_9&&_9.select)){_8._onClickHandle=_8.connect(_8.anchorNode,"onclick","onClick");}_8.setArrow();if(_5.contains(_8.domNode,"mblVariableHeight")){_8.variableHeight=true;}if(_8.variableHeight){_5.add(_8.domNode,"mblVariableHeight");}_8.set("icon",_8.icon);if(!_8.checked&&_8.checkClass.indexOf(",")!==-1){_8.set("checked",_8.checked);}_8.inherited(arguments);var _a=null;if(_8.iconNode){_a=_8.iconNode.getElementsByTagName("IMG")[0];}if(_a){on(_a,"load",function(){_8.layoutVariableHeight();});}if((_8.domNode.offsetHeight>45)&&!dojo.hasClass(this.domNode,"mblVariableHeight")){dojo.addClass(this.domNode,"mblVariableHeight");}},_setIconAttr:function(_b){this.icon=_b;var a=this.anchorNode;if(!this.iconNode){if(_b){var _c=this.rightIconNode||this.rightIcon2Node||this.rightTextNode||this.box;this.iconNode=_6.create("DIV",{className:"mblListItemIcon"},_c,"before");}}else{_6.empty(this.iconNode);}if(_b&&_b!=="none"){_7.createIcon(_b,this.iconPos,null,this.alt,this.iconNode);if(this.iconPos){_5.add(this.iconNode.firstChild,"mblListItemSpriteIcon");}_5.remove(a,"mblListItemAnchorNoIcon");}else{_5.add(a,"mblListItemAnchorNoIcon");}}});li.extendedStartup=true;}_1.renderWhenDojoIsDoneLoading();});},"createDojoWidget":function(_d){var _e=this;_e.dom=_d;_e.dom.style.minHeight="44px";_e.dojoWidget=new dojox.mobile.ListItem({label:_e.text,rightText:_e.actionText||"",moveTo:_e.moveTo,icon:_e.icon,transition:_e.transition||"slide"},_d);_e.synchronor.trigger(_e,"SYN_READY");_e.textBox=_e._getTextBox();_e.setChildren(_e.children,_e.dojoWidget);if(_e.children.length>0){_e._setIconStyle(true);}var _f=_e.dojoWidget.onClick;_e.dojoWidget.onClick=function(_10){if(typeof _f==="function"&&_e.moveTo){_f.apply(_e.dojoWidget,arguments);}_e.handleEvent(_e.getOnClick(),"onClick");};if(!_e.moveTo){_e.dojoWidget._onClickHandle=_e.dojoWidget.connect(_e.dojoWidget.anchorNode,"onclick","onClick");}},"_setIconStyle":function(_11){var _12=this.dojoWidget.domNode.firstChild;if(_12&&_12.className=="mblListItemIcon"){if(_11){_12.style.marginLeft=0;_12.style.marginTop=0;}else{_12.style.marginLeft="18px";_12.style.marginTop="7px";}}},"_getTextBox":function(){if(this.dojoWidget){var _13=this.dojoWidget.domNode.getElementsByTagName("div");var _14;for(var n=0;n<_13.length;n++){if(_13[n].className=="mblListItemTextBox"){_14=_13[n];break;}}if(_14){_14.innerHTML="";}else{throw this.eze$$typename+".setChildren: Cannot find the parent widget";}return _14;}},"_appendChild":function(_15){if(this.dojoWidget){var _16=this.textBox;if(!dojo.hasClass(this.dojoWidget.domNode,"mblVariableHeight")){dojo.addClass(this.dojoWidget.domNode,"mblVariableHeight");}_16.appendChild(_15.eze$$DOMElement);}},"_removeChild":function(_17){var _18=this.textBox;_18.removeChild(_17.eze$$DOMElement);if(this.children||this.children.length<=0){this._showText();}},"_showText":function(){if(this.dojoWidget){var _19=this.textBox;if(dojo.hasClass(this.dojoWidget.domNode,"mblVariableHeight")){dojo.removeClass(this.dojoWidget.domNode,"mblVariableHeight");this._setIconStyle(false);}_19.innerHTML=this.text;}},"removeChildren":function(){if(!this.children){return;}if(this.dojoWidget&&this.textBox.childNodes.length>1){for(var n=0;n<this.children.length;n++){this._removeChild(this.children[n]);}}this.children=[];this._showText();},"setText":function(_1a){this.text=_1a;if(this.dojoWidget&&this.children.length==0){this.dojoWidget.set("label",this.text);var _1b=this.dojoWidget.domNode.getElementsByTagName("div");var _1c;for(var n=0;n<_1b.length;n++){if(_1b[n].className=="mblListItemTextBox"){_1c=_1b[n];break;}}if(_1c){_1c.innerHTML=this.text;}}},"getText":function(){return this.text;},"setImagePath":function(_1d){var _1e=this;_1e.icon=_1d;require(["dojo/mobile/utility/Synchronor"],function(_1f){_1f.wait([_1e],"SYN_READY",function(){if(_1e.dojoWidget){_1e.dojoWidget.set({icon:_1e.icon});}});});},"getImagePath":function(){return this.icon;},"setActionText":function(_20){this.actionText=_20;if(this.dojoWidget){this.dojoWidget.set("rightText",_20);var _21=this.dojoWidget.domNode.getElementsByTagName("div");var _22;for(var n=0;n<_21.length;n++){if(_21[n].className=="mblListItemRightText"){_22=_21[n];break;}}if(_22){if(_20){_22.innerHTML=_20;}else{_22.parentNode.removeChild(_22);}}else{var txt=dojo.create("DIV");txt.className="mblRightText";txt.innerHTML=_20;this.dojoWidget.domNode.getElementsByTagName("a")[0].appendChild(txt);}}},"getActionText":function(){return this.actionText;},"_setMoveto":function(_23){if(this.dojoWidget){this.dojoWidget.set("moveTo",_23);}else{this.moveTo=_23;}},"_getIconNode":function(){var _24=this.dojoWidget.domNode.getElementsByTagName("div");var _25;for(var n=0;n<_24.length;n++){if(_24[n].className=="mblListItemRightIcon"){_25=_24[n];break;}}return _25;},"_setActionView":function(){this.actionView._show();this.moveTo=this.actionView.getID();if(!this.moveTo){this.actionView._addRef(this);this.moveTo="stub";}else{this._setMoveto(this.moveTo);}},"setActionView":function(_26){var _27=this;_27.actionView=_26;if(_27.dojoWidget){if(_27.actionView){var _28=_27._getIconNode();if(!_28){var _29=dojo.create("div");var _2a=dojo.create("div");_29.className="mblListItemRightIcon";_2a.className="mblDomButtonArrow mblDomButton";var a=_27.dojoWidget.domNode.getElementsByTagName("a")[0];if(a.childNodes.length>1){a.insertBefore(_29,a.childNodes[0]);}else{a.appendChild(_29);}_29.appendChild(_2a);_2a.appendChild(dojo.create("div"));var _2b=_27;if(_2b.onClick){_27.dojoWidget.connect(a,"onclick",_2b.onClick);}else{_27.dojoWidget.connect(a,"onclick",_2b.dojoWidget.onClick);}}_27._setActionView();}else{var _28=_27._getIconNode();if(_28){_27.onClick=_27.dojoWidget.onClick;_27.dojoWidget.onClick=function(){};_28.parentNode.removeChild(_28);}}}else{if(_27.actionView){_27._setActionView();}}},"getActionView":function(){return this.actionView;},"setActionTransition":function(_2c){this.transition=_2c;if(this.dojoWidget&&_2c){this.dojoWidget.set("transition",_2c);}},"getActionTransition":function(){return this.transition;},"setID":function(id){if(id&&id!="undefined"){this.id=id;}else{this.id="";}}});